# ░█░█░█▀▀░█░█░█▀▄░▀█▀░█▀█░█▀▄░▀█▀░█▀█░█▀▀░█▀▀
# ░█▀▄░█▀▀░░█░░█▀▄░░█░░█░█░█░█░░█░░█░█░█░█░▀▀█
# ░▀░▀░▀▀▀░░▀░░▀▀░░▀▀▀░▀░▀░▀▀░░▀▀▀░▀░▀░▀▀▀░▀▀▀

# See https://wiki.hyprland.org/Configuring/Keywords/
#  &  https://wiki.hyprland.org/Configuring/Binds/


# ================================================================================
# * Applications
# ================================================================================
bindd = SUPER      , Return, Terminal emulator          , exec, $mainTerminal
bindd = SUPER      , E     , Yazi File manager          , exec, uwsm-app -- $mainTerminal --class=$files -e $files
bindd = SUPER ALT  , E     , Thunar File manager        , exec, uwsm-app -- $altFiles
bindd = SUPER      , B     , Web browser                , exec, $hyprScripts/launch-browser
bindd = SUPER ALT  , V     , Open URL in mpv            , exec, mpv "$(wl-paste)"
bindd = SUPER CTRL , V     , Download video from URL    , exec, yt-dlp "$(wl-paste)"
# bindd = SUPER      , C     , Text editor                                  , exec, $editor
# bindd = Ctrl+Shift    , Escape, Launch system monitor (htop/btop or fallback to top), exec, $scrPath/sysmonlaunch.sh

# ================================================================================
# * Session
# ================================================================================
bindd = CTRL ALT       , Backspace   , Kill hyprland session                         , exit
bindd = SUPER          , Escape      , Lock screen                                   , exec          , uwsm-app -- hyprlock
bindd = SUPER ALT      , C           , Color Picker (Hex)                            , exec          , uwsm-app -- hyprpicker -a

# ================================================================================
# * Windows
# ================================================================================

# workspace = special:exposed,gapsout:60,gapsin:30,bordersize:5,border:true,shadow:false
# bindd = SUPER      , D, Windows expose          , exec                  , uwsm-app -- pypr expose

bindd = SUPER      , M, Minimize/Restore window , exec                  , uwsm-app -- pypr toggle_special stash
bindd = SUPER SHIFT, M, View minimized windows  , togglespecialworkspace, stash

# Mouse
binddm = SUPER     , mouse:272 , Move window                                   , movewindow   # LMB
binddm = SUPER     , mouse:273 , Resize window                                 , resizewindow # RMB
binddm = SUPER     , mouse:274 , Close focused window                          , killactive   # MMB

# Control
bindd = SUPER      , C         , Close focused window                          , killactive
bindd = SUPER CTRL , C         , Kill focused window                           , forcekillactive
# TODO: write script for Super+T to cycle through tile/pseudo/float
bindd = SUPER      , T         , Window: toggle tile/float                     , togglefloating
bindd = SUPER ALT  , T         , Window: toggle pseudo-tile                    , pseudo
bindd = SUPER SHIFT, Y         , Notify activewindow data                      , exec, $hyprScripts/hypr-activewindowdata
bindd = SUPER      , G         , Toggle window group                           , togglegroup
# TODO: write script to lock group if window is in a group, otherwise
# denywindowfromgroup
bindd = SUPER CTRL , G         , Lock active group                             , lockactivegroup, toggle
bindd = SUPER SHIFT, G         , Lock window from group                        , denywindowfromgroup, toggle
bindd = SUPER      , F         , Toggle window maximize                        , fullscreen, 1 toggle
bindd = SUPER ALT  , F         , Toggle window fullscreen                      , fullscreen
bindd = SUPER      , X         , Swaps two halves of split                     , swapsplit
# TODO: make pin work on tiled windows too
bindd = SUPER      , P         , Pin active window (show on all workspaces)    , pin

# Focus
bindd = SUPER      , H         , Focus window left                             , movefocus        , l
bindd = SUPER      , J         , Focus window down                             , movefocus        , d
bindd = SUPER      , K         , Focus window up                               , movefocus        , u
bindd = SUPER      , L         , Focus window right                            , movefocus        , r
bindd = ALT        , Tab       , Focus next visible window                     , cyclenext        , next
bindd = ALT SHIFT  , Tab       , Focus previous visible window                 , cyclenext        , prev

# Move
# TODO: write 'movewindow' script
# - floating window: move to screen edge
# - tiled window: swap with next window or move to adjacent monitor
# - unlocked group: move window around inside group
# - locked group: move group around like it was a single window
# NOTE: locked groups should always behave like standalone windows
binded = SUPER SHIFT, H,Move activewindow left,movewindoworgroup, l
binded = SUPER SHIFT, J,Move activewindow down,movewindoworgroup, d
binded = SUPER SHIFT, K,Move activewindow up,movewindoworgroup, u
binded = SUPER SHIFT, L,Move activewindow right,movewindoworgroup, r
# binded = SUPER SHIFT, H,Move activewindow left,exec, $hyprScripts/moveactivewindow l -30 0
# binded = SUPER SHIFT, J,Move activewindow down,exec, $hyprScripts/moveactivewindow d 0 30
# binded = SUPER SHIFT, K,Move activewindow up,exec, $hyprScripts/moveactivewindow u 0 -30
# binded = SUPER SHIFT, L,Move activewindow right,exec, $hyprScripts/moveactivewindow r 30 0

# Resize
# TODO: possibly get rid of this and just use "resize mode"?
bindde = SUPER ALT, H, Resize left , resizeactive, -30 0
bindde = SUPER ALT, J, Resize down , resizeactive, 0 30
bindde = SUPER ALT, K, Resize up , resizeactive, 0 -30
bindde = SUPER ALT, L, Resize right , resizeactive, 30 0

bindd = SUPER, R, Activate window resize mode, submap, resize

submap = resize
bindde = , H, Resize left (resize mode), resizeactive, -15 0
bindde = , J, Resize down (resize mode), resizeactive, 0 15
bindde = , K, Resize up (resize mode), resizeactive, 0 -15
bindde = , L, Resize right (resize mode), resizeactive, 15 0

bind=,catchall,submap,reset

# bindd = , Escape, Deactivate window resize mode, submap, reset
submap = reset

# ================================================================================
# * Settings
# ================================================================================

bindd = SUPER, S, Settings mode, submap, settings
# NOTE: Need to wait for next version of hyprland for this to work
# https://wiki.hypr.land/Configuring/Binds/#automatically-close-a-submap-on-dispatch
# submap = settings, reset

submap = settings
bindd = , W, Wifi Settings ,exec, pypr toggle wifi
bindd = , B, Bluetooth Settings,exec, pypr toggle bluetooth
bindd = , A, Audio Settings,exec, pypr toggle audio
bindd = , M, Monitor Profile Settings,exec, pypr toggle monitors
bindd = , I,Toggle Idle Lock,exec, $hyprScripts/hypr-toggle-idle

# Submap resets
bind=,W,submap,reset
bind=,B,submap,reset
bind=,A,submap,reset
bind=,M,submap,reset
bind=,I,submap,reset
bind=,catchall,submap,reset

# bindd = , Escape, Deactivate settings mode, submap, reset

submap = reset

# ================================================================================
# * Workspaces
# ================================================================================

# Special
bindd = SUPER, Apostrophe, Toggle dropterm, exec, pypr toggle dropterm
bindd = SUPER SHIFT, Apostrophe, Toggle taskbar, exec, pypr toggle taskbar

# Switch to next workspace on monitor
bindd = SUPER, U, Next workspace, workspace, r+1
bindd = SUPER, I, Previous workspace, workspace, r-1
bindd = SUPER, O, Last workspace, workspace, previous
# bindd = SUPER, M, Next empty workspace, workspace, emptym

# Move active window to a relative workspace
bindd = SUPER SHIFT, U, Move window to next workspace, movetoworkspace, r+1
bindd = SUPER SHIFT, I, Move window to previous workspace, movetoworkspace, r-1
bindd = SUPER SHIFT, O, Move window to last workspace, movetoworkspace, previous

# Send active window to a relative workspace
bindd = SUPER ALT, U, Send window to next workspace, movetoworkspacesilent, r+1
bindd = SUPER ALT, I, Send window to previous workspace, movetoworkspacesilent, r-1
bindd = SUPER ALT, O, Send window to last workspace, movetoworkspacesilent, previous

# Scroll through existing workspaces with SUPER + scroll
bind = SUPER, mouse_down, workspace, r+1
bind = SUPER, mouse_up, workspace, r-1

# Montiors
bindd = SUPER CTRL, H, Focus monitor left, focusmonitor, l
bindd = SUPER CTRL, J, Focus monitor down, focusmonitor, d
bindd = SUPER CTRL, K, Focus monitor up, focusmonitor, u
bindd = SUPER CTRL, L, Focus monitor right, focusmonitor, r

bindd = SUPER CTRL SHIFT, H, Move window to monitor left, movewindow, mon:l
bindd = SUPER CTRL SHIFT, J, Move window to monitor down, movewindow, mon:d
bindd = SUPER CTRL SHIFT, K, Move window to monitor up, movewindow, mon:u
bindd = SUPER CTRL SHIFT, L, Move window to monitor right, movewindow, mon:r

bindd = SUPER, F1, Switch to monitor SW, focusmonitor, 0
bindd = SUPER, F2, Switch to monitor SE, focusmonitor, 1
bindd = SUPER, F4, Switch to monitor NW, focusmonitor, 2
bindd = SUPER, F5, Switch to monitor NE, focusmonitor, 3
bindd = SUPER SHIFT, F1, Move window to monitor SW, movewindow, mon:0
bindd = SUPER SHIFT, F2, Move window to monitor SE, movewindow, mon:1
bindd = SUPER SHIFT, F4, Move window to monitor NW, movewindow, mon:2
bindd = SUPER SHIFT, F5, Move window to monitor NE, movewindow, mon:3
bindd = SUPER ALT, F1, Send window to monitor SW, movewindow, mon:0 silent
bindd = SUPER ALT, F2, Send window to monitor SE, movewindow, mon:1 silent
bindd = SUPER ALT, F4, Send window to monitor NW, movewindow, mon:2 silent
bindd = SUPER ALT, F5, Send window to monitor NE, movewindow, mon:3 silent

# Switch
bindd = SUPER, 1, Switch to workspace 1, workspace, 1
bindd = SUPER, 2, Switch to workspace 2, workspace, 2
bindd = SUPER, 3, Switch to workspace 3, workspace, 3
bindd = SUPER, 4, Switch to workspace 4, workspace, 4
bindd = SUPER, 5, Switch to workspace 5, workspace, 5
bindd = SUPER, 6, Switch to workspace 6, workspace, 6
bindd = SUPER, 7, Switch to workspace 7, workspace, 7
bindd = SUPER, 8, Switch to workspace 8, workspace, 8
bindd = SUPER, 9, Switch to workspace 9, workspace, 9
bindd = SUPER, 0, Switch to workspace 10, workspace, 10

# Move
bindd = SUPER SHIFT, 1, Move window to workspace 1, movetoworkspace, 1
bindd = SUPER SHIFT, 2, Move window to workspace 2, movetoworkspace, 2
bindd = SUPER SHIFT, 3, Move window to workspace 3, movetoworkspace, 3
bindd = SUPER SHIFT, 4, Move window to workspace 4, movetoworkspace, 4
bindd = SUPER SHIFT, 5, Move window to workspace 5, movetoworkspace, 5
bindd = SUPER SHIFT, 6, Move window to workspace 6, movetoworkspace, 6
bindd = SUPER SHIFT, 7, Move window to workspace 7, movetoworkspace, 7
bindd = SUPER SHIFT, 8, Move window to workspace 8, movetoworkspace, 8
bindd = SUPER SHIFT, 9, Move window to workspace 9, movetoworkspace, 9
bindd = SUPER SHIFT, 0, Move window to workspace 10, movetoworkspace, 10

# Send
bindd = SUPER ALT, 1, Send window to workspace 1, movetoworkspacesilent, 1
bindd = SUPER ALT, 2, Send window to workspace 2, movetoworkspacesilent, 2
bindd = SUPER ALT, 3, Send window to workspace 3, movetoworkspacesilent, 3
bindd = SUPER ALT, 4, Send window to workspace 4, movetoworkspacesilent, 4
bindd = SUPER ALT, 5, Send window to workspace 5, movetoworkspacesilent, 5
bindd = SUPER ALT, 6, Send window to workspace 6, movetoworkspacesilent, 6
bindd = SUPER ALT, 7, Send window to workspace 7, movetoworkspacesilent, 7
bindd = SUPER ALT, 8, Send window to workspace 8, movetoworkspacesilent, 8
bindd = SUPER ALT, 9, Send window to workspace 9, movetoworkspacesilent, 9
bindd = SUPER ALT, 0, Send window to workspace 10, movetoworkspacesilent, 10

# ================================================================================
# * Layouts
# ================================================================================
bindd = SUPER SHIFT, Return    , Toggle focused window split (dwindle)         , togglesplit
# bindd = SUPER      , O         , Cycle orientations (master)                   , layoutmsg        , orientationnext

# TODO: Switch audio output with Super + Mute
bindld = SUPER, XF86AudioMute, Switch audio output, exec, $hyprScripts/audio-switch

# Screenshot/Screencapture
# bind = SUPER, P, exec, $scrPath/screenshot.sh s # partial screenshot capture
# bind = SUPER+Ctrl, P, exec, $scrPath/screenshot.sh sf # partial screenshot capture (frozen screen)
# bind = SUPER+Alt, P, exec, $scrPath/screenshot.sh m # monitor screenshot capture
# bind = , Print, exec, $scrPath/screenshot.sh p # all monitors screenshot capture

# Custom scripts
bind = SUPER ALT, G, exec, $hyprScripts/gamemode # disable hypr effects for gamemode

# Move/resize windows with SUPER + LMB/RMB and dragging
# bindm = SUPER, Z, movewindow
# bindm = SUPER, X, resizewindow


